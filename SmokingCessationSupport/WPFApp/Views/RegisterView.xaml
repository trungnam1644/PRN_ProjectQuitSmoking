<Window
    x:Class="WPFApp.Views.RegisterView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    Title="Smoking Cessation Support - Đăng ký"
    Width="450"
    Height="600"
    FontFamily="Segoe UI"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <Style BasedOn="{StaticResource MaterialDesignRaisedButton}" TargetType="Button">
            <Setter Property="Margin" Value="0,16,0,0" />
            <Setter Property="Height" Value="42" />
            <Setter Property="FontSize" Value="14" />
        </Style>
    </Window.Resources>

    <Grid>
        <materialDesign:Card Margin="20" UniformCornerRadius="6">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!--  Header Section  -->
                <Border
                    Grid.Row="0"
                    Background="#388E3C"
                    CornerRadius="6,6,0,0">
                    <StackPanel Margin="20" HorizontalAlignment="Center">
                        <materialDesign:PackIcon
                            Width="48"
                            Height="48"
                            Foreground="White"
                            Kind="AccountPlus" />
                        <TextBlock
                            Margin="0,8,0,0"
                            HorizontalAlignment="Center"
                            FontSize="16"
                            FontWeight="SemiBold"
                            Foreground="White"
                            Text="TẠO TÀI KHOẢN MỚI" />
                        <TextBlock
                            Margin="0,4,0,8"
                            HorizontalAlignment="Center"
                            FontSize="14"
                            Foreground="White"
                            Text="Tham gia chương trình cai thuốc lá" />
                    </StackPanel>
                </Border>

                <!--  Form Section  -->
                <ScrollViewer
                    Grid.Row="1"
                    Padding="24"
                    VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBox
                            x:Name="UsernameTextBox"
                            Margin="0,0,0,12"
                            materialDesign:HintAssist.Foreground="#388E3C"
                            materialDesign:HintAssist.Hint="Tên đăng nhập *"
                            FontSize="14"
                            Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                            Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}" />

                        <PasswordBox
                            x:Name="PasswordBox"
                            Margin="0,0,0,12"
                            materialDesign:HintAssist.Foreground="#388E3C"
                            materialDesign:HintAssist.Hint="Mật khẩu *"
                            FontSize="14"
                            Style="{StaticResource MaterialDesignFloatingHintPasswordBox}" />

                        <PasswordBox
                            x:Name="ConfirmPasswordBox"
                            Margin="0,0,0,12"
                            materialDesign:HintAssist.Foreground="#388E3C"
                            materialDesign:HintAssist.Hint="Xác nhận mật khẩu *"
                            FontSize="14"
                            Style="{StaticResource MaterialDesignFloatingHintPasswordBox}" />

                        <TextBox
                            x:Name="EmailTextBox"
                            Margin="0,0,0,12"
                            materialDesign:HintAssist.Foreground="#388E3C"
                            materialDesign:HintAssist.Hint="Email *"
                            FontSize="14"
                            Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                            Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}" />

                        <TextBox
                            x:Name="FullNameTextBox"
                            Margin="0,0,0,12"
                            materialDesign:HintAssist.Foreground="#388E3C"
                            materialDesign:HintAssist.Hint="Họ và tên *"
                            FontSize="14"
                            Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                            Text="{Binding FullName, UpdateSourceTrigger=PropertyChanged}" />

                        <DatePicker
                            x:Name="DateOfBirthDatePicker"
                            Margin="0,0,0,16"
                            materialDesign:HintAssist.Foreground="#388E3C"
                            materialDesign:HintAssist.Hint="Ngày sinh"
                            FontSize="14"
                            SelectedDate="{Binding DateOfBirth}"
                            Style="{StaticResource MaterialDesignOutlinedDatePicker}" />

                        <CheckBox
                            Margin="0,8,0,0"
                            Content="Tôi đồng ý với điều khoản sử dụng"
                            FontSize="12"
                            Foreground="{DynamicResource MaterialDesignBody}"
                            IsChecked="{Binding AgreeToTerms}" />
                    </StackPanel>
                </ScrollViewer>

                <!--  Footer Section  -->
                <Border
                    Grid.Row="2"
                    BorderBrush="{DynamicResource MaterialDesignDivider}"
                    BorderThickness="0,1,0,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Button
                            Grid.Column="0"
                            Margin="16,8,8,8"
                            Background="#388E3C"
                            Click="Button_Click"
                            Command="{Binding RegisterCommand}"
                            Content="ĐĂNG KÝ"
                            Foreground="White" />

                        <Button
                            Grid.Column="1"
                            Margin="8,8,16,8"
                            BorderBrush="#388E3C"
                            Click="Login_Click"
                            Command="{Binding NavigateToLoginCommand}"
                            Content="ĐĂNG NHẬP"
                            Foreground="#388E3C"
                            Style="{StaticResource MaterialDesignOutlinedButton}" />
                    </Grid>
                </Border>
            </Grid>
        </materialDesign:Card>
    </Grid>
</Window>